<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layouts/account_layout}"
      layout:fragment="Content">
  <head>
    <meta charset="UTF-8" />
  <title>계약조회</title>
  
    <style>
    
	h1{
        margin-top: 20px;
        margin-left:10px;
        font-weight: bold;
       }

      /* 버튼들이 고정된 위치에 나타나도록 합니다. */
      .button-group {
        display: flex;
        gap: 5px; /* 버튼들 사이 간격 */
        margin-top: 10px; /* 버튼과 테이블 사이 간격 */
        margin-bottom: 20px;
        justify-content: flex-end; /* 버튼을 오른쪽에 정렬 */
      }

    </style>
    
  </head>
  
  <body>
  	<h1>매입 계약 관리</h1>
  	<!-- 전체 컨테이너 -->
	<div class="container-fluid p-4">

  <!-- 버튼 그룹-->
  <div class="button-group">
    <button class="btn btn-success">신규 등록</button>
    <button class="btn btn-secondary">인쇄</button>
    <button class="btn btn-secondary">Excel</button>
  </div>
  
  <!-- 그리드 -->
  <div id="grid"></div>
  
  <!-- 페이지네이션 -->
  <div id="pagination" class="tui-pagination"></div>
  
</div> <!-- 전체 컨테이너 끝. -->

    <script>
    document.addEventListener('DOMContentLoaded', function() {
    	
    	// 그리드 기초 데이터
    	const gridData = [
    		  {
    		    contractNumber: "CN-2024-001",
    		    contractName: "Web Development Project",
    		    client: "Acme Corp.",
    		    contractDate: "2024-01-10",
    		    startDate: "2024-01-15",
    		    endDate: "2024-12-31",
    		    totalAmount: 50000000,
    		    status: "Active",
    		    
    		  },
    		  {
    		    contractNumber: "CN-2024-002",
    		    contractName: "Mobile App Development",
    		    client: "Tech Solutions",
    		    contractDate: "2024-02-01",
    		    startDate: "2024-02-05",
    		    endDate: "2024-10-15",
    		    totalAmount: 75000000,
    		    status: "Pending",
    		   
    		  },
    		];

    	 // 그리드 초기화
    	  const grid = new tui.Grid({
    	    el: document.querySelector('#grid'),
    	    data: gridData,
    	    scrollX: true,
    	    scrollY: true,
    	    pageOptions: {
    	      useClient: true,
    	      perPage: 5,
    	    },
    	    columns: [
    	    	  { header: "계약번호", name: "contractNumber", align: 'center'}, // 계약번호
    	    	  { header: "계약명", name: "contractName" , align: 'center'},     // 계약명
    	    	  { header: "거래처", name: "client" , align: 'center'},                 // 거래처
    	    	  { header: "계약일", name: "contractDate" , align: 'center'},    // 계약일
    	    	  { header: "계약시작일", name: "startDate" , align: 'center'},          // 계약시작일
    	    	  { header: "계약종료일", name: "endDate" , align: 'center'},              // 계약종료일
    	    	  { header: "총 계약 금액", name: "totalAmount", align: "right" }, // 총 계약 금액
    	    	  { header: "계약상태", name: "status" , align: 'center'},                 // 계약상태
    	    	
    	    	],
    	    	 rowHeaders: [
    	             {
    	               type: 'checkbox',
    	               header: 
    	                 `<span class="custom-input">
    	                 <input type="checkbox" id="all-checkbox" class="hidden-input" name="_checked" />
    	                   <label for="all-checkbox" class="checkbox selectCheck">✔</label>
    	                 </span>`
    	             ,
    	               renderer: {
    	                 type: gridCheckbox
    	               }
    	             }
    	       ],
    	  });

    	 // 그리드 클릭 이벤트 -> 추후 수정
    	  grid.on('click', (event) => {
    	    if (event.columnName === 'debentureNo' && event.rowKey >= 0) {
    	      console.log('클릭이벤트 발생');
    	      console.log(event.rowKey);
    	    }
    	  });
    });
    
    </script>
    
  </body>
  
</html>
